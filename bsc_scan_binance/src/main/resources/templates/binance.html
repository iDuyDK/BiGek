<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" http-equiv="refresh" content="900">
<title>Wanda</title>
<link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
  integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
  crossorigin="anonymous">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
</head>
<style>
.tableFixHead {
  overflow: auto;
  height: 100px;
}

.tableFixHead thead th {
  position: sticky;
  top: 0;
  z-index: 1;
}

/* Just common table stuff. Really. */
table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  padding: 8px 16px;
}

th {
  background: #eee;
}

p {
  margin-bottom: 0px !important;
}

.highlight {
  background-color: #CFF5FF !important;
}

.oco_css:focus {
  color: red !important;
}

.table td, .table th {
  padding: 0.25rem !important;
  vertical-align: middle !important;
}
</style>
<script type="text/javascript">
  $(function() {
    $(document).on("click", ".table_row", function() {
      $(this).addClass('highlight').siblings().removeClass('highlight');
    });
  });
</script>

<body>
  <div class="table-responsive-sm">
    <table id="bnb_table" class="table table-bordered tableFixHead">
      <thead>
        <tr>
          <th class="text-center" scope="col">#</th>
          <th class="text-center" scope="col">Symbol</th>
          <th class="text-center" scope="col">Name</th>
          <th class="text-center" scope="col">MC</th>
          <th class="text-center" scope="col">Volume</th>

          <th class="text-center text-primary" scope="col">v/mc</th>
          <th class="text-center" scope="col">Price</th>
          <th class="text-center text-primary" scope="col">Avg</th>
          <th class="text-center text-primary" scope="col">OCO</th>
          <th class="text-center" scope="col">%24h</th>
          <th class="text-center" scope="col">%7d</th>
          <th class="text-center" scope="col">%14d</th>
          <th class="text-center" scope="col">%30d</th>

          <th class="text-center text-primary" scope="col">Star</th>
          <th class="text-center" scope="col"
            th:text="${#dates.format(#dates.createNow(), 'dd/MM')}">
          <th class="text-center" scope="col"
            th:text="${#dates.format( #dates.create(#dates.year(#dates.createNow()), #dates.month(#dates.createNow()), #dates.day(#dates.createNow()) - 1), 'dd/MM')}">
          <th class="text-center" scope="col"
            th:text="${#dates.format( #dates.create(#dates.year(#dates.createNow()), #dates.month(#dates.createNow()), #dates.day(#dates.createNow()) - 2), 'dd/MM')}">
          <th class="text-center" scope="col"
            th:text="${#dates.format( #dates.create(#dates.year(#dates.createNow()), #dates.month(#dates.createNow()), #dates.day(#dates.createNow()) - 3), 'dd/MM')}">
          <th class="text-center" scope="col"
            th:text="${#dates.format( #dates.create(#dates.year(#dates.createNow()), #dates.month(#dates.createNow()), #dates.day(#dates.createNow()) - 4), 'dd/MM')}">
          <th class="text-center" scope="col"
            th:text="${#dates.format( #dates.create(#dates.year(#dates.createNow()), #dates.month(#dates.createNow()), #dates.day(#dates.createNow()) - 5), 'dd/MM')}">
          <th class="text-center" scope="col"
            th:text="${#dates.format( #dates.create(#dates.year(#dates.createNow()), #dates.month(#dates.createNow()), #dates.day(#dates.createNow()) - 6), 'dd/MM')}">
          <th class="text-center" scope="col"
            th:text="${#dates.format( #dates.create(#dates.year(#dates.createNow()), #dates.month(#dates.createNow()), #dates.day(#dates.createNow()) - 7), 'dd/MM')}">
          <th class="text-center" scope="col"
            th:text="${#dates.format( #dates.create(#dates.year(#dates.createNow()), #dates.month(#dates.createNow()), #dates.day(#dates.createNow()) - 8), 'dd/MM')}">
          <th class="text-center" scope="col"
            th:text="${#dates.format( #dates.create(#dates.year(#dates.createNow()), #dates.month(#dates.createNow()), #dates.day(#dates.createNow()) - 9), 'dd/MM')}">
          <th class="text-center" scope="col"
            th:text="${#dates.format( #dates.create(#dates.year(#dates.createNow()), #dates.month(#dates.createNow()), #dates.day(#dates.createNow()) - 10), 'dd/MM')}">
          <th class="text-center" scope="col"
            th:text="${#dates.format( #dates.create(#dates.year(#dates.createNow()), #dates.month(#dates.createNow()), #dates.day(#dates.createNow()) - 11), 'dd/MM')}">
          <th class="text-center" scope="col"
            th:text="${#dates.format( #dates.create(#dates.year(#dates.createNow()), #dates.month(#dates.createNow()), #dates.day(#dates.createNow()) - 12), 'dd/MM')}">
          <th class="text-center" scope="col"
            th:text="${#dates.format( #dates.create(#dates.year(#dates.createNow()), #dates.month(#dates.createNow()), #dates.day(#dates.createNow()) - 13), 'dd/MM')}">
        </tr>
      </thead>
      <tbody>
        <tr class="table_row" th:each="token,iter: ${data_list}">

          <td class="" style="text-align: center;"
            th:text="${iter.index + 1}">
            <!-- Symbol -->
          <td class="" style="max-width: 80px !important;"><a
            th:target="_blank" th:href="${token.binance_trade}"><span
              th:text="${token.symbol}"></span></a>
            <p style="font-size: 0.7rem !important;" th:text="${token.trend}"></td>
          <!-- Name -->
          <td class=""
            style="min-width: 180px !important; max-width: 180px !important;"><a
            th:target="_blank" th:href="${token.coin_gecko_link}"> <span
              th:text="${token.name}"></span></a>
            <p style="font-size: 0.7rem !important;" th:text="${token.note}"></p>
          </td>
          <!-- MC -->
          <td style="text-align: right; max-width: 180px !important;"
            th:classappend="${token.market_cap_css}"
            th:text="${#numbers.formatDecimal(token.market_cap, 0, 'COMMA', 0, 'POINT') + '$'}">
            <!-- Volume -->
          <td
            style="text-align: right; min-width: 150px !important; max-width: 150px !important;">
            <p
              th:text="${#numbers.formatDecimal(token.gecko_total_volume, 0, 'COMMA', 0, 'POINT') + '$'}">
            <p style="font-size: 0.7rem !important;"
              th:text="${token.gecko_volumn_history}">
          </td>
          <!-- v/mc -->
          <td
            style="text-align: right; min-width: 80px !important; max-width: 80px !important;"
            class="bg-light important;"
            th:classappend="${token.volumn_div_marketcap_css}">
            <p th:text="${token.volumn_div_marketcap} + '%'">
            <p th:classappend="${token.volumn_binance_div_marketcap_css}"
              th:text="${token.volumn_binance_div_marketcap}">
          </td>
          <!-- Price -->
          <td th:classappend="${token.btc_warning_css}"
            style="text-align: right; min-width: 220px !important; max-width: 220px !important;">
            <div>
                <span th:text="${token.current_price} + '$'"></span>
                <span th:text="${token.price_target}"></span>
            </div>
            <p style="font-size: 0.7rem !important;"
              th:text="${token.pre_price_history}" />
          </td>
          <!-- Avg -->
          <td class="bg-light important;"
            style="text-align: right; min-width: 150px !important; max-width: 150px !important;">
            <div>
              <span th:text="${token.avg_price + '$'}"></span> <span
                th:classappend="${token.avg_price_css}"
                th:text="${token.avg_percent}"></span>
            </div>
            <div>
              <span style="font-size: 0.8rem !important;"
                th:text="${token.min_price}"></span>~<span
                style="font-size: 0.8rem !important;"
                th:text="${token.max_price}"></span>
            </div>
          </td>
          <!-- OCO -->
          <td class="oco_css" th:classappend="${token.oco_css}"
            style="text-align: right; min-width: 500px !important; max-width: 500px !important; font-size: 0.75rem !important;">
            <div>
              <span th:text="${token.oco_tp_price}"></span><span
                th:classappend="${token.oco_tp_price_hight_css}"
                th:text="${token.oco_tp_price_hight}"></span>
            </div>
            <div>
              <span th:text="${token.oco_stop_limit}"></span><span
                th:classappend="${token.oco_stop_limit_low_css}"
                th:text="${token.oco_stop_limit_low}"></span>
            </div>

            <p th:text="${token.oco_stop_price}"></p>
            <p th:text="${token.oco_low_hight}"></p>
          </td>

          <td style="text-align: right;"
            th:classappend="${token.price_change_24h_css}"
            th:text="${#numbers.formatDecimal(token.price_change_percentage_24h, 1, 'COMMA', 1, 'POINT') + '%'}">
          <td style="text-align: right"
            th:classappend="${token.price_change_07d_css}"
            th:text="${#numbers.formatDecimal(token.price_change_percentage_7d,  1, 'COMMA', 1, 'POINT') + '%'}">
          <td style="text-align: right;"
            th:classappend="${token.price_change_14d_css}"
            th:text="${#numbers.formatDecimal(token.price_change_percentage_14d, 1, 'COMMA', 1, 'POINT') + '%'}">
          <td style="text-align: right;"
            th:classappend="${token.price_change_30d_css}"
            th:text="${#numbers.formatDecimal(token.price_change_percentage_30d, 1, 'COMMA', 1, 'POINT') + '%'}">
          <td style="text-align: center; min-width: 80px !important;" th:classappend="${token.star_css}"
            th:text="${token.star}">

          <!-- Volume/AvgPrice/Low-Hight today -->
          <td style="text-align: right; min-width: 200px !important; max-width: 200px !important;" class="text-info">
            <p th:classappend="${token.today_vol_css}"
              th:text="${token.today_vol}">
            <p th:classappend="${token.today_price_css}"
              th:text="${token.today_price}">
            <p style="color: black !important; font-size: 0.8rem !important;" th:text="${token.low_to_hight_price}">
          </td>

          <td style="text-align: right;">
            <p th:classappend="${token.day_0_vol_css}"
              th:text="${token.day_0_vol}">
            <p th:classappend="${token.day_0_price_css}"
              th:text="${token.day_0_price}">
          </td>
          <td style="text-align: right;">
            <p th:classappend="${token.day_1_vol_css}"
              th:text="${token.day_1_vol}">
            <p th:classappend="${token.day_1_price_css}"
              th:text="${token.day_1_price}">
          </td>
          <td style="text-align: right;">
            <p th:classappend="${token.day_2_vol_css}"
              th:text="${token.day_2_vol}">
            <p th:classappend="${token.day_2_price_css}"
              th:text="${token.day_2_price}">
          </td>
          <td style="text-align: right;">
            <p th:classappend="${token.day_3_vol_css}"
              th:text="${token.day_3_vol}">
            <p th:classappend="${token.day_3_price_css}"
              th:text="${token.day_3_price}">
          </td>
          <td style="text-align: right;">
            <p th:classappend="${token.day_4_vol_css}"
              th:text="${token.day_4_vol}">
            <p th:classappend="${token.day_4_price_css}"
              th:text="${token.day_4_price}">
          </td>
          <td style="text-align: right;">
            <p th:classappend="${token.day_5_vol_css}"
              th:text="${token.day_5_vol}">
            <p th:classappend="${token.day_5_price_css}"
              th:text="${token.day_5_price}">
          </td>
          <td style="text-align: right;">
            <p th:classappend="${token.day_6_vol_css}"
              th:text="${token.day_6_vol}">
            <p th:classappend="${token.day_6_price_css}"
              th:text="${token.day_6_price}">
          </td>
          <td style="text-align: right;">
            <p th:classappend="${token.day_7_vol_css}"
              th:text="${token.day_7_vol}">
            <p th:classappend="${token.day_7_price_css}"
              th:text="${token.day_7_price}">
          </td>
          <td style="text-align: right;">
            <p th:classappend="${token.day_8_vol_css}"
              th:text="${token.day_8_vol}">
            <p th:classappend="${token.day_8_price_css}"
              th:text="${token.day_8_price}">
          </td>
          <td style="text-align: right;">
            <p th:classappend="${token.day_9_vol_css}"
              th:text="${token.day_9_vol}">
            <p th:classappend="${token.day_9_price_css}"
              th:text="${token.day_9_price}">
          </td>
          <td style="text-align: right;">
            <p th:classappend="${token.day_10_vol_css}"
              th:text="${token.day_10_vol}">
            <p th:classappend="${token.day_10_price_css}"
              th:text="${token.day_10_price}">
          </td>
          <td style="text-align: right;">
            <p th:classappend="${token.day_11_vol_css}"
              th:text="${token.day_11_vol}">
            <p th:classappend="${token.day_11_price_css}"
              th:text="${token.day_11_price}">
          </td>
          <td style="text-align: right;">
            <p th:classappend="${token.day_12_vol_css}"
              th:text="${token.day_12_vol}">
            <p th:classappend="${token.day_12_price_css}"
              th:text="${token.day_12_price}">
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</body>
</html>